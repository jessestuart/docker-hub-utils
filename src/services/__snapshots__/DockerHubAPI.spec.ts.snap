// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`DockerHub handler fetchManifestList happy path. 1`] = `
Array [
  Array [
    "https://auth.docker.io/token",
    Object {
      "params": Object {
        "scope": "repository:jessestuart/owntracks:pull",
        "service": "registry.docker.io",
      },
    },
  ],
  Array [
    "https://registry-1.docker.io/v2/jessestuart/owntracks/manifests/latest",
    Object {
      "headers": Object {
        "Accept": "application/vnd.docker.distribution.manifest.list.v2+json",
        "Authorization": "Bearer FAKE_TOKEN",
      },
    },
  ],
]
`;

exports[`DockerHub handler fetchManifestList happy path. 2`] = `
Object {
  "manifests": Array [
    Object {
      "digest": "sha256:d0593f2bf35b854611dda94b5210243f8473847150d1709b12163453841bf5f8",
      "mediaType": "application/vnd.docker.distribution.manifest.v2+json",
      "platform": Object {
        "architecture": "amd64",
        "os": "linux",
      },
      "size": 1365,
    },
    Object {
      "digest": "sha256:0ec4c38328ab0e0b8798c28384fd44bab385b8313b13aa8f494e940e83a12d69",
      "mediaType": "application/vnd.docker.distribution.manifest.v2+json",
      "platform": Object {
        "architecture": "arm",
        "os": "linux",
      },
      "size": 1369,
    },
    Object {
      "digest": "sha256:72d730063d55fa164378188f92119e00769dbc759f95cbf1319705e90d6214ea",
      "mediaType": "application/vnd.docker.distribution.manifest.v2+json",
      "platform": Object {
        "architecture": "arm64",
        "os": "linux",
      },
      "size": 1369,
    },
  ],
  "mediaType": "application/vnd.docker.distribution.manifest.list.v2+json",
  "schemaVersion": 2,
}
`;

exports[`DockerHub handler queryTopRepos 1`] = `1718496`;

exports[`DockerHub handler queryTopRepos with invalid data (lastUpdated undefined) 1`] = `Array []`;

exports[`DockerHub handler queryTopRepos with no numRepos specified 1`] = `
Array [
  Object {
    "canEdit": false,
    "description": "OwnTracks. Multiarch. ðŸ‘Œ",
    "isAutomated": true,
    "isMigrated": true,
    "isPrivate": false,
    "lastUpdated": "2019-07-26T00:25:53.188Z",
    "name": "owntracks",
    "namespace": "jessestuart",
    "pullCount": 488928,
    "repositoryType": "image",
    "starCount": 3,
    "status": 1,
    "user": "jessestuart",
  },
  Object {
    "canEdit": false,
    "description": "The every(wo)man's reverse proxy, on all your boxes or boards. amd64, arm64, & armhf nightly builds.",
    "isAutomated": true,
    "isMigrated": true,
    "isPrivate": false,
    "lastUpdated": "2019-07-17T06:13:12.702Z",
    "name": "caddy",
    "namespace": "jessestuart",
    "pullCount": 363038,
    "repositoryType": "image",
    "starCount": 1,
    "status": 1,
    "user": "jessestuart",
  },
  Object {
    "canEdit": false,
    "description": "Nightly multi-architecture (amd64, arm64, armv7) builds for the Kubernetes Helm tiller service.",
    "isAutomated": true,
    "isMigrated": true,
    "isPrivate": false,
    "lastUpdated": "2019-07-26T00:26:23.660Z",
    "name": "tiller",
    "namespace": "jessestuart",
    "pullCount": 335171,
    "repositoryType": "image",
    "starCount": 10,
    "status": 1,
    "user": "jessestuart",
  },
  Object {
    "canEdit": false,
    "description": "All the dependencies, up-to-date, all the time. Nightly multiarch builds. (amd64 + arm64)",
    "isAutomated": false,
    "isMigrated": false,
    "isPrivate": false,
    "lastUpdated": "2019-07-26T00:26:00.434Z",
    "name": "renovate",
    "namespace": "jessestuart",
    "pullCount": 143411,
    "repositoryType": "image",
    "starCount": 0,
    "status": 1,
    "user": "jessestuart",
  },
  Object {
    "canEdit": false,
    "description": "Minio server â€” supports arm (arm32v6, arm32v7, armhf) arm64 (aarch64), and amd64 architectures.",
    "isAutomated": false,
    "isMigrated": false,
    "isPrivate": false,
    "lastUpdated": "2019-07-26T00:25:28.724Z",
    "name": "minio",
    "namespace": "jessestuart",
    "pullCount": 74836,
    "repositoryType": "image",
    "starCount": 3,
    "status": 1,
    "user": "jessestuart",
  },
  Object {
    "canEdit": false,
    "description": "An OSS metrics dashboard and graph editor for Graphite, Elasticsearch, Prometheus and InfluxDB.",
    "isAutomated": true,
    "isMigrated": true,
    "isPrivate": false,
    "lastUpdated": "2019-07-26T00:25:46.783Z",
    "name": "grafana",
    "namespace": "jessestuart",
    "pullCount": 52749,
    "repositoryType": "image",
    "starCount": 1,
    "status": 1,
    "user": "jessestuart",
  },
  Object {
    "canEdit": false,
    "description": "amd64, arm64, and armhf Docker images for Minio Client.",
    "isAutomated": true,
    "isMigrated": true,
    "isPrivate": false,
    "lastUpdated": "2019-07-26T00:25:01.207Z",
    "name": "mc",
    "namespace": "jessestuart",
    "pullCount": 45199,
    "repositoryType": "image",
    "starCount": 0,
    "status": 1,
    "user": "jessestuart",
  },
  Object {
    "canEdit": false,
    "description": "Nightly multiarch (arm64, armhf, amd64) builds of Heptio Velero for Kubernetes.",
    "isAutomated": false,
    "isMigrated": false,
    "isPrivate": false,
    "lastUpdated": "2019-07-26T00:25:27.980Z",
    "name": "velero",
    "namespace": "jessestuart",
    "pullCount": 36522,
    "repositoryType": "image",
    "starCount": 1,
    "status": 1,
    "user": "jessestuart",
  },
  Object {
    "canEdit": false,
    "description": "kube2iam provides different AWS IAM roles for pods running on Kubernetes. 
Nightly multiarch builds.",
    "isAutomated": false,
    "isMigrated": false,
    "isPrivate": false,
    "lastUpdated": "2019-07-26T00:26:11.724Z",
    "name": "kube2iam",
    "namespace": "jessestuart",
    "pullCount": 11239,
    "repositoryType": "image",
    "starCount": 0,
    "status": 1,
    "user": "jessestuart",
  },
  Object {
    "canEdit": false,
    "description": "",
    "isAutomated": false,
    "isMigrated": false,
    "isPrivate": false,
    "lastUpdated": "2019-07-26T00:16:41.077Z",
    "name": "elasticsearch_exporter",
    "namespace": "jessestuart",
    "pullCount": 10668,
    "repositoryType": "image",
    "starCount": 0,
    "status": 1,
    "user": "jessestuart",
  },
  Object {
    "canEdit": false,
    "description": "",
    "isAutomated": false,
    "isMigrated": false,
    "isPrivate": false,
    "lastUpdated": "2019-07-26T00:26:38.629Z",
    "name": "docker-hub-exporter",
    "namespace": "jessestuart",
    "pullCount": 8596,
    "repositoryType": "image",
    "starCount": 0,
    "status": 1,
    "user": "jessestuart",
  },
  Object {
    "canEdit": false,
    "description": "",
    "isAutomated": false,
    "isMigrated": false,
    "isPrivate": false,
    "lastUpdated": "2019-07-26T00:15:25.027Z",
    "name": "homemaker",
    "namespace": "jessestuart",
    "pullCount": 4527,
    "repositoryType": "image",
    "starCount": 0,
    "status": 1,
    "user": "jessestuart",
  },
  Object {
    "canEdit": false,
    "description": "",
    "isAutomated": false,
    "isMigrated": false,
    "isPrivate": false,
    "lastUpdated": "2019-07-26T00:25:38.734Z",
    "name": "pihole_exporter",
    "namespace": "jessestuart",
    "pullCount": 3271,
    "repositoryType": "image",
    "starCount": 0,
    "status": 1,
    "user": "jessestuart",
  },
  Object {
    "canEdit": false,
    "description": "",
    "isAutomated": false,
    "isMigrated": false,
    "isPrivate": false,
    "lastUpdated": "2019-07-26T00:03:30.885Z",
    "name": "vagrant-build-base",
    "namespace": "jessestuart",
    "pullCount": 2509,
    "repositoryType": "image",
    "starCount": 0,
    "status": 1,
    "user": "jessestuart",
  },
]
`;

exports[`DockerHub handler queryTopRepos, limit results by date 1`] = `
Array [
  Object {
    "canEdit": false,
    "description": "OwnTracks. Multiarch. ðŸ‘Œ",
    "isAutomated": true,
    "isMigrated": true,
    "isPrivate": false,
    "lastUpdated": "2019-07-26T00:25:53.188Z",
    "name": "owntracks",
    "namespace": "jessestuart",
    "pullCount": 488928,
    "repositoryType": "image",
    "starCount": 3,
    "status": 1,
    "user": "jessestuart",
  },
  Object {
    "canEdit": false,
    "description": "The every(wo)man's reverse proxy, on all your boxes or boards. amd64, arm64, & armhf nightly builds.",
    "isAutomated": true,
    "isMigrated": true,
    "isPrivate": false,
    "lastUpdated": "2019-07-17T06:13:12.702Z",
    "name": "caddy",
    "namespace": "jessestuart",
    "pullCount": 363038,
    "repositoryType": "image",
    "starCount": 1,
    "status": 1,
    "user": "jessestuart",
  },
  Object {
    "canEdit": false,
    "description": "Nightly multi-architecture (amd64, arm64, armv7) builds for the Kubernetes Helm tiller service.",
    "isAutomated": true,
    "isMigrated": true,
    "isPrivate": false,
    "lastUpdated": "2019-07-26T00:26:23.660Z",
    "name": "tiller",
    "namespace": "jessestuart",
    "pullCount": 335171,
    "repositoryType": "image",
    "starCount": 10,
    "status": 1,
    "user": "jessestuart",
  },
  Object {
    "canEdit": false,
    "description": "All the dependencies, up-to-date, all the time. Nightly multiarch builds. (amd64 + arm64)",
    "isAutomated": false,
    "isMigrated": false,
    "isPrivate": false,
    "lastUpdated": "2019-07-26T00:26:00.434Z",
    "name": "renovate",
    "namespace": "jessestuart",
    "pullCount": 143411,
    "repositoryType": "image",
    "starCount": 0,
    "status": 1,
    "user": "jessestuart",
  },
  Object {
    "canEdit": false,
    "description": "Minio server â€” supports arm (arm32v6, arm32v7, armhf) arm64 (aarch64), and amd64 architectures.",
    "isAutomated": false,
    "isMigrated": false,
    "isPrivate": false,
    "lastUpdated": "2019-07-26T00:25:28.724Z",
    "name": "minio",
    "namespace": "jessestuart",
    "pullCount": 74836,
    "repositoryType": "image",
    "starCount": 3,
    "status": 1,
    "user": "jessestuart",
  },
  Object {
    "canEdit": false,
    "description": "An OSS metrics dashboard and graph editor for Graphite, Elasticsearch, Prometheus and InfluxDB.",
    "isAutomated": true,
    "isMigrated": true,
    "isPrivate": false,
    "lastUpdated": "2019-07-26T00:25:46.783Z",
    "name": "grafana",
    "namespace": "jessestuart",
    "pullCount": 52749,
    "repositoryType": "image",
    "starCount": 1,
    "status": 1,
    "user": "jessestuart",
  },
  Object {
    "canEdit": false,
    "description": "amd64, arm64, and armhf Docker images for Minio Client.",
    "isAutomated": true,
    "isMigrated": true,
    "isPrivate": false,
    "lastUpdated": "2019-07-26T00:25:01.207Z",
    "name": "mc",
    "namespace": "jessestuart",
    "pullCount": 45199,
    "repositoryType": "image",
    "starCount": 0,
    "status": 1,
    "user": "jessestuart",
  },
  Object {
    "canEdit": false,
    "description": "Nightly multiarch (arm64, armhf, amd64) builds of Heptio Velero for Kubernetes.",
    "isAutomated": false,
    "isMigrated": false,
    "isPrivate": false,
    "lastUpdated": "2019-07-26T00:25:27.980Z",
    "name": "velero",
    "namespace": "jessestuart",
    "pullCount": 36522,
    "repositoryType": "image",
    "starCount": 1,
    "status": 1,
    "user": "jessestuart",
  },
  Object {
    "canEdit": false,
    "description": "kube2iam provides different AWS IAM roles for pods running on Kubernetes. 
Nightly multiarch builds.",
    "isAutomated": false,
    "isMigrated": false,
    "isPrivate": false,
    "lastUpdated": "2019-07-26T00:26:11.724Z",
    "name": "kube2iam",
    "namespace": "jessestuart",
    "pullCount": 11239,
    "repositoryType": "image",
    "starCount": 0,
    "status": 1,
    "user": "jessestuart",
  },
  Object {
    "canEdit": false,
    "description": "",
    "isAutomated": false,
    "isMigrated": false,
    "isPrivate": false,
    "lastUpdated": "2019-07-26T00:16:41.077Z",
    "name": "elasticsearch_exporter",
    "namespace": "jessestuart",
    "pullCount": 10668,
    "repositoryType": "image",
    "starCount": 0,
    "status": 1,
    "user": "jessestuart",
  },
  Object {
    "canEdit": false,
    "description": "",
    "isAutomated": false,
    "isMigrated": false,
    "isPrivate": false,
    "lastUpdated": "2019-07-26T00:26:38.629Z",
    "name": "docker-hub-exporter",
    "namespace": "jessestuart",
    "pullCount": 8596,
    "repositoryType": "image",
    "starCount": 0,
    "status": 1,
    "user": "jessestuart",
  },
  Object {
    "canEdit": false,
    "description": "",
    "isAutomated": false,
    "isMigrated": false,
    "isPrivate": false,
    "lastUpdated": "2019-07-26T00:15:25.027Z",
    "name": "homemaker",
    "namespace": "jessestuart",
    "pullCount": 4527,
    "repositoryType": "image",
    "starCount": 0,
    "status": 1,
    "user": "jessestuart",
  },
  Object {
    "canEdit": false,
    "description": "",
    "isAutomated": false,
    "isMigrated": false,
    "isPrivate": false,
    "lastUpdated": "2019-07-26T00:25:38.734Z",
    "name": "pihole_exporter",
    "namespace": "jessestuart",
    "pullCount": 3271,
    "repositoryType": "image",
    "starCount": 0,
    "status": 1,
    "user": "jessestuart",
  },
  Object {
    "canEdit": false,
    "description": "",
    "isAutomated": false,
    "isMigrated": false,
    "isPrivate": false,
    "lastUpdated": "2019-07-26T00:03:30.885Z",
    "name": "vagrant-build-base",
    "namespace": "jessestuart",
    "pullCount": 2509,
    "repositoryType": "image",
    "starCount": 0,
    "status": 1,
    "user": "jessestuart",
  },
]
`;
